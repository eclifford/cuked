#!/usr/bin/env node
var Cuked = require('../lib/cuked.js');
var minimist = require('minimist');

var argv = minimist(process.argv.slice(2), {
  'default': {
    "browser": "phantomjs",
    "platform": "ANY",
    "name": "",
    "tags": [],
    "debug": false,
    "remote": "http://localhost:4444/wd/hub",
    "path": "features"
  },
  'boolean': true
});

try {
  var cuked = new Cuked(argv);
  cuked.run(function(err) {
    if(err)
      process.exit(2);
    else
      process.exit(0);
  });
} catch (ex) {
  process.stderr.write(ex.stack + '\n');
  process.exit(2);
}
